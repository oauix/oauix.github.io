<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="Author" content="">
		<!--页面三要素-->
		<title>弹幕技术</title>
		<meta name="description" content="关键词，关键词">
		<meta name="keywords" content="说明书">
		<!--层叠样式-->
		<style>
			*{margin:0px;padding:0px;}
			body{font-size:12px;color:#666;font-family:"微软雅黑";}
			.desp_box{background:rgba(0, 204, 102, 0.6);position:absolute;left:0;top:0;width:100%;height:100%;z-index:1}
			.desp_box .cont{font-size:22px;color:#ff66ff;position:absolute;left:0;top:0;}
			.box_o{font-size:16px;position:absolute;z-index:3;background:green;color:#fff;cursor:pointer;}
			.desp_box .box_x{
				background: red;
				width: 30px;
				height: 30px;
				display: block;
				text-decoration: none;
				border-radius: 40px;
				line-height: 30px;
				text-align: center;
				font-size: 14px;
				position: absolute;
				top: 20px;
				right: 20px;
				color:#fff;
				border:2px solid #fff;
			}
			.desp_box .box_x:hover{background:#c33;}
			.text_box{background:rgba(0,0,0,0.5);;width:100%;height:74px;position:absolute;bottom:0px;z-index:2}
			.text_box .text_in{line-height:74px;margin:0 auto;width:760px;text-align:center;}
			.text_box .text_in input{
				outline:none;
				width:610px;
				border-radius:3px 0 0 3px;
				font-family:"微软雅黑";
				height:35px;
				border:none;
				color:#111;
				padding:0 5px;
			}
			.text_box .text_in a{
				background: #00be3c;
				line-height: 35px;
				display: inline-block;
				padding: 0 20px;
				color: #fff;
				font-size: 15px;
				text-decoration: none;
				border-radius: 0 6px 6px 0;
			}
		</style>
		<!--js脚本语言-->
		<!--
		<style type="text/css" rel="stylesheet" src="../css/animate.css"></style>
		-->
		<link type="text/css" rel="stylesheet" href="../css/animate.css"></link>
	</head>
	<body>
		<div class="desp_box animated flipInY">
			<a class="box_x" href="javascript:void(0)">X</a>
		</div>
		<div class="text_box animated bounceIn">
				<div class="text_in">
					<input type="text" placeholder="想说什么!?"/><a href="javascript:void(0);">发表评论</a>
				</div>
		</div>
		<div class="box_o">弹幕技术</div>
		<script type="text/javascript" src="../js/jquery-1.11.3.min.js"></script>
		<script type="text/javascript">
			//X隐藏
			$(".box_x").click(function(){
				//删除animated flipInY类，加animated bounceOut类，fadeOut执行完后再反过来来删除animated bounceOut类，加animated flipInY类
				$(".text_box").removeClass("animated flipInY").addClass("animated bounceOut").fadeOut(1000,function(){
					$(".text_box").removeClass("animated bounceOut").addClass("animated flipInY");
				});
				$(".desp_box").fadeOut();
			});
			//弹幕技术切换
			$(".box_o").click(function(){
				$(".text_box").fadeToggle();
				$(".desp_box").fadeToggle();
			});
			//发布功能
			$(".text_in a").click(function(){
				var content=$(".text_in input").val();
				$(".desp_box").append(
					"<div class='cont animated bounceIn'>"+content+"</div>"
				);
				mywz();
			});
			//初始化动画
			function mywz(){
				var _top = 0;
				$(".desp_box").find("div").show().each(function(){
					var _left=$(window).width()-$(this).width();//浏览器宽-自己的宽
					var _height=$(window).height();
					_top=_top + 60;
					if(_top>=_height-100){_top=0;}
					//alert(_left);
					//设置文字的初始化位置
					$(this).css({left:_left,top:_top,color:getcolor()});
					//判断显示界面高
					//时间用取余来调整速度
					var times=10000;
					if($(this).index()%3==2){times=20000}
					//动起来
					//$(this).animate({left:"-"+_left+"px"},times,function(){
					$(this).animate({left:"20px"},times,function(){
						$(this).remove();
					});
				});
			}
			//随机取颜色函数
			function getcolor(){
				return '#' + (function(h){
					return new Array(7-h.length).join("0")+h
					})((Math.random() * 0x1000000 << 0).toString(16))
			}
		</script>
	</body>
</html>